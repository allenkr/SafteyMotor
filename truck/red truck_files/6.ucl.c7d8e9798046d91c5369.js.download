(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[6],{"./client/components/Common/FormValidationHOC/FormValidationHOC.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/extends.js")),s=l(a("./node_modules/@babel/runtime/helpers/typeof.js")),n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=l(a("./node_modules/react/index.js")),p=l(a("./client/components/Common/FormValidationHOC/validationRules.js")),m=function(e){var t,a;return a=t=function(t){function a(e){var t;return(0,n.default)(this,a),(t=(0,o.default)(this,(0,c.default)(a).call(this,e))).handleIsValid=function(){return Object.keys(t.state.errors).length?(t.setState({isValid:!1,displayErrors:"show"}),!1):(t.setState({isValid:!0}),!0)},t.handleValidateForm=function(e,a){var l=e;t.setState({isFormSubmit:!0,isValid:!1}),Object.keys(l).forEach((function(e){var r=e,s=l[e];t.handleValidator(r,s,a)})),t.setState({isFormSubmit:!1})},t.handleErrorClass=function(e){var a=t.state.errors,l="";return Object.keys(a).length&&Object.keys(a).forEach((function(t){t===e&&(l="is-invalid-input")})),l},t.handleValidator=function(e,a,l){var r=!1,n=t.state.errors,i=p.default;l&&(i=Object.assign({},i,l)),Object.keys(i).forEach((function(t){var l=i[t];t===e&&(Object.prototype.hasOwnProperty.call(n,e)&&delete n[e],l.forEach((function(t){r=t.rule(a),"object"===(0,s.default)(r)&&r.hint?n[e]=r.hint:r&&!n[e]&&(n[e]=t.hint)})))})),t.setState({errors:n},(function(){t.handleIsValid()}))},t.renderValidationHints=function(e){var a,l=e||t.state.errors;if(Object.keys(l).length){var r=Object.keys(l).map((function(e,t){return a===l[e]?null:(a=l[e],u.default.createElement("li",{key:t},l[e]))}));return u.default.createElement("ul",null,r)}return null},t.state={errors:{},displayErrors:"hide",isValid:!1},t}return(0,d.default)(a,t),(0,i.default)(a,[{key:"render",value:function(){return u.default.createElement(e,(0,r.default)({isValid:this.handleIsValid,validateForm:this.handleValidateForm,errorClass:this.handleErrorClass,validateElements:this.handleValidator,validateState:this.state,renderValidationHints:this.renderValidationHints},this.props))}}]),a}(u.default.Component),t.displayName="FormValidationHOC",a};t.default=m},"./client/components/Common/FormValidationHOC/validationRules.js":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/validator/index.js")),s=l(a("./client/utils/utilities.js")),n={firstName:[{rule:function(e){return r.default.isNull(e)},hint:"First name is required!"},{rule:function(e){return!r.default.isAlphanumeric(r.default.blacklist(e," "))},hint:"First name field is invalid!"}],lastName:[{rule:function(e){return r.default.isNull(e)},hint:"Last name is required!"},{rule:function(e){return!r.default.isAlphanumeric(r.default.blacklist(e," "))},hint:"Last name field is invalid!"}],email:[{rule:function(e){return r.default.isNull(e)},hint:"Email is required!"},{rule:function(e){return e&&!r.default.isEmail(e)},hint:"Email is invalid!"}],zip:[{rule:function(e){return void 0===e||r.default.isNull(e)},hint:"Zip is required!"},{rule:function(e){return!s.default.validateZip(e)},hint:"Zip is invalid!"}],phone:[{rule:function(e){return e&&!s.default.validatePhone(e)},hint:"Phone is invalid!"}],screenName:[{rule:function(e){return r.default.isNull(e)},hint:"First name is required!"},{rule:function(e){return!r.default.isAlphanumeric(r.default.blacklist(e," "))},hint:"First name is invalid!"}],globalRating:[{rule:function(e){return r.default.isNull(e)},hint:"Rating is required!"}],globalTitle:[{rule:function(e){return r.default.isNull(e)},hint:"Title is required!"},{rule:function(e){return!r.default.isAlphanumeric(r.default.blacklist(e," "))},hint:"Title is invalid!"}],globalReview:[{rule:function(e){return r.default.isNull(e)},hint:"Review is required!"},{rule:function(e){return!r.default.isLength(e,25)},hint:"Review is too short!"}],make:[{rule:function(e){return r.default.isNull(e)},hint:"Make is required!"}],model:[{rule:function(e){return r.default.isNull(e)},hint:"Model is required!"}],year:[{rule:function(e){return r.default.isNull(e.toString())},hint:"Year is required!"}]};t.default=n},"./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,i,o=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),d=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(a("./node_modules/react/index.js")),h=a("./node_modules/mobx-react/index.module.js"),f=l(a("./client/utils/utilities.js"));a("./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.scss");var v=(0,h.inject)("SearchRequestStore")(s=(0,h.observer)((i=n=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.SearchRequestStore.selectedVehicle;return m.default.createElement("div",{className:"vehicle-card"},m.default.createElement("div",{className:"row"},m.default.createElement("div",{className:"small-4 column"},m.default.createElement("img",{src:f.default.checkProperty(e,"images.firstPhoto.small")?e.images.firstPhoto.small:"",alt:""})),m.default.createElement("div",{className:"small-8 column relative"},m.default.createElement("div",{className:"row"},m.default.createElement("span",{className:"cd-listing-title column small-12"},e.title),m.default.createElement("span",{className:"cd-listing-mileage column small-12"},e.mileage?e.mileage.label:0," miles"),m.default.createElement("span",{className:"cd-listing-price column small-12"},e.price?e.price.current_price.label:0)))))}}]),t}(m.Component),n.defaultProps={listing:{title:"",mileage:0,price:0}},s=i))||s)||s;t.default=v},"./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContact.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s,n,i=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),p=l(a("./node_modules/react/index.js")),m=l(a("./node_modules/validator/index.js")),h=a("./node_modules/mobx-react/index.module.js"),f=l(a("./node_modules/js-md5/src/md5.js")),v=l(a("./client/components/VehicleDetails/DealerContact/DealerContactHeader.jsx")),b=l(a("./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.jsx")),C=l(a("./client/components/VehicleDetails/DealerContact/DealerContactHocEntry.jsx")),S=l(a("./client/utils/AppUtils.js")),g=l(a("./shared/services/ConversionServices.js")),k=a("./client/api/TrackingHelperApi.js"),E=l(a("./client/api/BeaconHelperApi.js"));a("./client/components/VehicleDetails/DealerContact/DealerContact.scss");var j=(0,h.inject)("AppStore","SearchRequestStore","AnalyticsStore","UserStore","DealerContactStore","ModalStore","OptimizelyStore")(r=(0,h.observer)((n=s=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,c.default)(this,(0,d.default)(t).call(this,e))).fireOmnitureLeadLimit=function(){var e=(0,k.buildProps)({pageName:{value:"Find Car - Details - Contact Seller Unsuccessful"},prop2:{value:"Find Car Details Contact Seller Unsuccessful"},prop3:{value:"Find Car Lead Thank You"},prop4:{value:"Find a Car"},events:{event:"event5,event187"}},["pageName","prop50","prop51","prop58"],a.props.SearchRequestStore.selectedVehicle);(0,k.trackPage)(e)},a.formSubmit=function(e){var t=a.props.SearchRequestStore.selectedVehicle,l=a.props.variation;(!l||"default"===l)&&(0,k.trackClick)("event63"),a.props.DealerContactStore.setFormData(e),a.props.DealerContactStore.clearListings(),a.props.UserStore.setName(e.firstName,e.lastName),e.phone&&a.props.UserStore.setPhone(e.phone);var r={listingId:t.id,vin:t.vin,vehicleZip:t.dealer.location.zip,typeOfResult:t.recordType,dealerId:t.dealer?t.dealer.id:"",consumerId:a.props.UserStore.id,id:a.props.UserStore.id,phone:e.phone?e.phone.replace(/[^A-Za-z0-9]/g,""):"",note:e.note?m.default.escape(e.note):"",leadType:"form"},s=Object.assign({},e,r);a.submitDealerLeadRequest(s,t)},a.submitDealerLeadRequest=function(e,t,l){e.note=g.default.appendCheckboxesComments(e);var r=e.email?f.default.hex(e.email):a.props.UserStore.hashedEmail,s="gallery-modal-srp-cta-125"===a.props.ModalStore.modal;g.default.sendDealerLead(e).then((function(n){if(n.data.authToken||a.props.UserStore.authToken){var i=Object.assign(n.data,{email:e.email}),o=n.data.id||a.props.UserStore.id;a.props.UserStore.authToken&&(i=a.props.UserStore),a.props.UserStore.setUser(i),a.props.UserStore.getProfile(o),a.props.SearchRequestStore.setFollows([e.listingId,"post"])}if(422===n.status&&(a.setState({leadLimit:!0}),a.fireOmnitureLeadLimit()),422!==n.status&&!a.state.leadLimit){var c;switch(e.sourceSiteId=a.props.AppStore.sourceSiteId?a.props.AppStore.sourceSiteId:0,a.props.source){case"vdp":c=["Find Car - Details - Contact Seller Thank You","Find Car Details Contact Seller Thank You"];break;case"photo":c=["".concat(s?"Find Car - Search Results - Contact Seller Thank You":"Find Car - Photo Lightbox - Contact Seller Thank You"),"".concat(s?"Find Car Search Results Contact Seller Thank You":"Find Car Details Contact Seller Thank You")];break;case"icr":c=["Find Car - ICR - Contact Seller Thank You","Find Car ICR Contact Seller Thank You"];break;default:c=["".concat(a.props.variation?"Find Car - Modal - Contact Seller Thank You":"Find Car - Details - Contact Seller Thank You"),"".concat(a.props.variation?"Find Car Modal Contact Seller Thank You":"Find Car Details Contact Seller Thank You")]}var d=["pageName","prop25","prop40","prop41","prop42","prop50","prop51","prop57","prop58","eVar93"];null!==a.props.OptimizelyStore.kiaWindowSticker162Variation&&"Kia"===t.make&&d.push("prop70","eVar99","eVar130");var u=(0,k.buildProps)({pageName:{value:c[0]},prop2:{value:c[1]},prop3:{value:"Find Car Lead Thank You"},prop4:{value:"Find a Car"},events:{event:"event5,event55"}},[].concat(d),a.props.SearchRequestStore.selectedVehicle);"icr"===a.props.source?E.default.icrLeadSubmit(e):E.default.vdpLeadSubmit(e),(0,k.trackPage)(u),a.props.AnalyticsStore.trackEmailLead(),a.props.AnalyticsStore.trackFollowCar();var p=t.vin+r,m=t.dealer.location?t.dealer.location.zip:0;S.default.pushToDataLayer({event:"uclEmailLead",pageState:u.prop2,pageTier:u.prop4,siteType:a.props.AppStore.siteType,emailHashed:r,vin:t.vin,year:"".concat(t.year),make:t.make,model:t.model,dzip:m,transactionId:p,price:t.listPrice});var h=n.data.listings||n.data.uclSearchResponse.listings;a.props.DealerContactStore.setResponse(h)}l&&l()})).catch((function(e){console.log(e),l&&l()})),a.props.SearchRequestStore.setSentMessage()},a.state={leadLimit:!1},a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.props.ModalStore.setCheckAvailabilityForm(!1)}},{key:"render",value:function(){var e=this.props.SearchRequestStore.selectedVehicle;return p.default.createElement("div",{className:"dealer-contact-wrapper ".concat(this.props.variation?"vdp-container-78":"vdp-container"," ").concat("gallery-modal-srp-cta-125"===this.props.ModalStore.modal?"dealer-contact-wrapper-125":"")},p.default.createElement("div",{className:this.props.variation?"dealer-contact-wrapper-inner-78":"dealer-contact-wrapper-inner"},p.default.createElement("div",{className:"dealer-contact-header"},p.default.createElement(v.default,{containerClassName:"dealer-contact-header-inner",source:this.props.source,variation:this.props.variation})),p.default.createElement("div",{className:"dealer-contact-body"},p.default.createElement(C.default,{formClassName:"dealer-contact-form",formSubmit:this.formSubmit,isVisible:e.sentLead?"hide":"show",source:this.props.source}),p.default.createElement(b.default,{formData:this.props.DealerContactStore.formData,storedFormData:this.props.DealerContactStore.storedFormData,similarListings:this.props.DealerContactStore.similarListings,source:this.props.source,isVisible:e.sentLead?"show":"hide",leadLimit:this.props.DealerContactStore.leadLimit||this.state.leadLimit})),p.default.createElement("div",{className:"dealer-contact-footer"},"I agree to receive autodialed and/or prerecorded telemarketing calls/texts from or on behalf of CARFAX and/or seller at the mobile number provided above. I understand that consent is not a condition of purchase. I agree to creating an account subject to the"," ",p.default.createElement("a",{href:"https://www.carfax.com/company/privacy-statement",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","&"," ",p.default.createElement("a",{href:"https://www.carfax.com/company/legal-disclaimer",target:"_blank",rel:"noopener noreferrer"},"Terms of Use"))))}}]),t}(p.default.Component),s.defaultProps={source:""},r=n))||r)||r;t.default=j},"./client/components/VehicleDetails/DealerContact/DealerContact.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),o=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),d=l(a("./node_modules/react/index.js")),u=a("./node_modules/mobx-react/index.module.js"),p=l(a("./client/components/VehicleDetails/DealerContact/DealerContactSimilarListing.jsx")),m=l(a("./client/api/BeaconHelperApi.js")),h=(0,u.inject)("UserStore","SearchRequestStore","ModalStore")(r=(0,u.observer)(r=function(e){function t(e){var a;return(0,s.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).handleInventoryClick=function(e){if(e.preventDefault(),"ENHANCED"===a.listing.recordType)switch(a.props.source){case"vdp":m.default.vdpTypMicroSite(a.listing);break;case"icr":m.default.uclIcrTypMicroSite(a.listing);break;default:m.default.vdpTypMicroSite(a.listing)}else switch(a.props.source){case"vdp":m.default.vdpTypSrp(a.listing);break;case"icr":m.default.icrTypSrp(a.listing);break;default:m.default.vdpTypSrp(a.listing)}var t;t="ENHANCED"===a.listing.recordType?a.listing.dealer.cfxMicrositeUrl:"/search?make=".concat(a.listing.make,"&model=").concat(a.listing.model,"&zip=").concat(a.listing.dealer.location.zip,"&radius=50"),"icr"===a.props.source?top.window.location.href=t:window.open(t,"_blank")},a.renderSimilarListings=function(){return a.props.similarListings.map((function(e){return d.default.createElement(p.default,{formData:a.props.formData,message:a.props.formData.message,listing:e,transactionId:e.vin+a.props.UserStore.userId,dealerId:e.dealer.id,source:a.props.source})}))},a.state={},a.listing=a.props.SearchRequestStore.selectedVehicle,a}return(0,c.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this.props.leadLimit?"Thank you for contacting this dealer.":"Your message was sent!",t=this.props.leadLimit?"To protect your privacy, we are limiting the number of times your email address or phone number is used per day.  Please call the dealer directly.":"Send message to check availability on these cars.",a=d.default.createElement("a",{href:"#",onClick:this.handleInventoryClick},"View Similar Cars in Your Area");return"ENHANCED"===this.listing.recordType&&(a=d.default.createElement("a",{href:"#",onClick:this.handleInventoryClick},"View Dealer Inventory")),d.default.createElement("div",{className:"dealer-contact-form-complete ".concat(this.props.isVisible)},d.default.createElement("span",{className:"message-complete"},e),d.default.createElement("p",null,t),this.renderSimilarListings(),d.default.createElement("div",{className:"row align-right align-bottom dealer-inventory-link".concat(this.listing.dealer.cfxMicrositeUrl?" show":" hide")},a))}}]),t}(d.default.Component))||r)||r;t.default=h},"./client/components/VehicleDetails/DealerContact/DealerContactForm.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=l(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),m=l(a("./node_modules/lodash/lodash.js")),h=l(a("./node_modules/prop-types/index.js")),f=l(a("./node_modules/validator/index.js")),v=l(a("./client/api/BeaconHelperApi.js")),b=l(a("./client/components/Common/Basic/Checkbox/Checkbox.tsx")),C=l(a("./client/utils/utilities.js")),S=l(a("./shared/helpers/CookieManager.js")),g=(0,p.inject)("UserStore","SearchRequestStore","ModalStore","DealerContactStore")(r=(0,p.observer)(r=function(e){function t(e){var a;return(0,n.default)(this,t),(a=(0,o.default)(this,(0,c.default)(t).call(this,e))).setMobileContactFooterDisplay=function(){var e=!1;Object.keys(a.inputFocused).forEach((function(t){!0===a.inputFocused[t]&&(e=!0)})),e?a.props.DealerContactStore.setIsFocusedOnLeadForm(!0):a.props.DealerContactStore.setIsFocusedOnLeadForm(!1)},a.handleOnChange=function(e){e.preventDefault();var t=e.target.name,l=e.target.value;switch(t){case"firstName":a.props.UserStore.setFirstName(l);break;case"lastName":a.props.UserStore.setLastName(l);break;case"zip":a.props.UserStore.setZip(l);break;case"phone":a.props.UserStore.setPhone(C.default.formatPhone(e.target.value));break;case"email":a.props.UserStore.setEmail(l);break;default:a.setState((0,s.default)({},t,l))}},a.handleOnCheck=function(e){a.props.UserStore.toggleLeadCheckbox(e)},a.handleValidation=function(e){e.preventDefault(),a.handleFocusChange(e,!1);var t=e.target,l=t.name,r=t.value;if("email"===l||"phone"===l){var s=a.props.UserStore[l];a.props.validateElements(l,s,a.customRule)}return a.props.validateElements(l,r,a.customRule)},a.handleSubscribeOnCheck=function(e){var t=e.target.checked;a.setState({subscribe:t})},a.handleOnFormSubmit=function(e){e.preventDefault();var t=a.props.UserStore,l=[];t.leadCheckboxes.forEach((function(e){if(!0===e.checked){var t=e,r=m.default.filter(a.checkboxes,{id:e.id});t.value=r[0].value,l.push(t)}}));var r={firstName:t.firstName,lastName:t.lastName,zip:t.zip,email:t.email,phone:t.phone,checkboxes:l},s=Object.assign(r,a.state);a.props.validateForm(s,a.customRule),a.props.isValid()&&a.props.formSubmit&&(a.props.formSubmit(s),S.default.saveFormInfo(a.props.UserStore.firstName,a.props.UserStore.lastName,a.props.UserStore.phone,a.props.UserStore.leadCheckboxes),S.default.saveZip(a.props.UserStore.zip),C.default.toggleSmoothScrollingIosSafari())},a.handleToggleNote=function(e){e.preventDefault(),a.setState({showNote:!a.state.showNote}),v.default.vdpContactMessage(a.props.SearchRequestStore.selectedVehicle)},a.customError=function(){var e,t=a.props.validateState.errors;return"Email or Phone is required!"!==t.phone&&"Email or Phone is required!"!==t.email||(e="is-invalid-input"),e},a.handleFocusChange=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=e.target.name;t?a.updateInputFocusedObject(l,t):setTimeout((function(){a.updateInputFocusedObject(l,t)}),150)},a.updateInputFocusedObject=function(e,t){a.inputFocused=Object.assign({},a.inputFocused,(0,s.default)({},e,t)),a.setMobileContactFooterDisplay()},a.renderCheckboxes=function(){return a.checkboxes.map((function(e,t){var l=t+1,r=a.props.UserStore.leadCheckboxes[t];return u.default.createElement("div",{key:"cbx-".concat(l,"-").concat(r.checked),className:"row small-collapse text-left align middle lead-check-box"},u.default.createElement(b.default,{title:e.value,checkboxId:l,labelClass:"checkbox checkbox-styled control-label",checked:r.checked,handleClick:function(){return a.handleOnCheck(e.id)}}))}))},a.state={subscribe:!0,showNote:!1},a.inputFocused={firstName:!1,lastName:!1,zip:!1,email:!1,phone:!1,personalNote:!1},a.checkboxes=[{id:1,value:"Is this vehicle still available?"},{id:2,value:"What payment terms are available?"},{id:3,value:"When can I test drive this vehicle?"}],a.customRule={email:[{rule:function(e){return a.props.UserStore.email||a.props.UserStore.phone?e&&!f.default.isEmail(e)?{isError:!0,hint:"Email is invalid!"}:void 0:{isError:!0,hint:"Email or Phone is required!"}},hint:""}],phone:[{rule:function(e){return a.props.UserStore.email||a.props.UserStore.phone?e&&!C.default.validatePhone(e)?{isError:!0,hint:"Phone is invalid!"}:void 0:{isError:!0,hint:"Email or Phone is required!"}},hint:""}]},a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=S.default.loadFormInfo(),t=S.default.loadZip();this.props.UserStore.setFirstName(e.first),this.props.UserStore.setLastName(e.last),this.props.UserStore.setPhone(C.default.formatPhone(e.phone)),this.props.UserStore.setLeadCheckboxes(e.checkboxes),this.props.UserStore.setZip(t)}},{key:"render",value:function(){var e=this,t=this.props.SearchRequestStore.selectedVehicle,a="ENHANCED"===t.recordType&&t.dealer?t.dealer.label:"Selling Dealer",l="TX"===m.default.get(t,"dealer.location.state")?"Email me new listings for my search.":"Email me price drops and new listings for my search.";return u.default.createElement("form",{className:"dealer-contact-form ".concat(this.props.formClassName," ").concat(this.props.isVisible),onSubmit:this.handleOnFormSubmit,method:"post"},u.default.createElement("div",{className:"dealer-contact-flash row"},this.props.renderValidationHints()),u.default.createElement("div",{className:"dealer-contact-sendMsg align-top row"},u.default.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),u.default.createElement("span",{className:"column"},"Send To: ",u.default.createElement("strong",null,a))),u.default.createElement("div",{className:"row align-middle"},u.default.createElement("div",null,"Hi, my name is"),u.default.createElement("div",null,u.default.createElement("input",{className:"ui-input form-control input-sm first-name-input dealer-contact-name ".concat(this.props.errorClass("firstName")),name:"firstName",type:"text",placeholder:"First Name",value:this.props.UserStore.firstName,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})),u.default.createElement("div",{className:"column right-end-col"},u.default.createElement("input",{className:"ui-input form-control input-sm last-name-input dealer-contact-name ".concat(this.props.errorClass("lastName")),name:"lastName",type:"text",placeholder:"Last Name",value:this.props.UserStore.lastName,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange}))),u.default.createElement("div",{className:"row align-middle"},u.default.createElement("div",null,u.default.createElement("span",null,"and I'm interested in your"),u.default.createElement("span",{className:"vehicle"}," ",u.default.createElement("b",null,t.title),"."),u.default.createElement("span",null," I'm in the "),u.default.createElement("div",{className:"dealer-contact-zip-container"},u.default.createElement("input",{name:"zip",type:"tel",placeholder:"Zip Code",className:"ui-input form-control input-sm dealer-contact-zip ".concat(this.props.errorClass("zip")),value:this.props.UserStore.zip,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})),u.default.createElement("span",null," area. You can reach me at"))),u.default.createElement("div",{className:"row align-middle last-form-row"},u.default.createElement("div",{className:"column email-column"},u.default.createElement("input",{type:"email",name:"email",ref:"email",placeholder:"Email Address",className:"ui-input form-control input-sm dealer-contact-email ".concat(this.customError()," ").concat(this.props.errorClass("email")),value:this.props.UserStore.email,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})),u.default.createElement("div",null," or ")),u.default.createElement("div",{className:"row align-middle last-form-row"},u.default.createElement("div",{className:"dealer-contact-phone-container"},u.default.createElement("input",{name:"phone",ref:"phone",placeholder:"Phone Number",className:"ui-input form-control input-sm phone-input dealer-contact-phone ".concat(this.props.errorClass("phone")," ").concat(this.customError()),type:"tel",value:this.props.UserStore.phone,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})),u.default.createElement("div",{className:"end-period"},".")),u.default.createElement("div",{className:"row align-middle"}),u.default.createElement("div",{className:"cb-questions"},this.renderCheckboxes()),u.default.createElement("a",{href:"#",tabIndex:"0",className:"dealer-contact-add-note",onClick:this.handleToggleNote},"Add a personal note(optional)"),u.default.createElement("textarea",{name:"note",className:"ui-input form-control input-sm dealer-contact-note",type:"text",value:this.state.note,onChange:this.handleOnChange,onBlur:function(t){return e.handleFocusChange(t,!1)},onFocus:this.handleFocusChange,style:{display:this.state.showNote?"block":"none"}}),u.default.createElement("button",{type:"submit",className:"search-submit button large expanded primary-green",value:"Send_Message"},"Send Message"),u.default.createElement("div",{className:"text-left align middle lead-check-box subscribe-cb"},u.default.createElement(b.default,{title:l,className:"checkbox4",checked:this.state.subscribe,labelClass:"checkbox checkbox-styled control-label",textClass:"checkbox-list-item--text",wrapperClass:"checkbox-list-item row",handleClick:this.handleSubscribeOnCheck})))}}]),t}(u.default.Component))||r)||r;g.propTypes={validateElements:h.default.func.isRequired,validateState:h.default.object.isRequired,validateForm:h.default.func.isRequired,renderValidationHints:h.default.func.isRequired,isValid:h.default.func.isRequired,errorClass:h.default.func.isRequired},g.defaultProps={validateState:{errors:""},validateElements:function(){},validateForm:function(){},errorClass:function(){}};var k=g;t.default=k},"./client/components/VehicleDetails/DealerContact/DealerContactHeader.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),o=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),d=l(a("./node_modules/react/index.js")),u=a("./node_modules/mobx-react/index.module.js"),p=l(a("./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.jsx")),m=l(a("./client/api/BeaconHelperApi.js")),h=a("./client/api/TrackingHelperApi.js"),f=(0,u.inject)("SearchRequestStore","ModalStore","AnalyticsStore","OptimizelyStore")(r=(0,u.observer)(r=function(e){function t(e){var a;return(0,s.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).handleCallClick=function(){var e=a.props.SearchRequestStore.selectedVehicle;m.default.vdpPhone(e),(0,h.trackLinkClick)("event49","Mobile Call Dealer - ".concat(e.dealer.label," - ").concat(e.dealer.location.city," - ").concat(e.dealer.location.state," - ").concat(e.dealer.location.zip," - ").concat(e.dealer.phone)),a.props.AnalyticsStore.trackPhoneTaps()},a.state={},a}return(0,c.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this.props.SearchRequestStore.selectedVehicle,t=e&&e.dealer?"Call: ".concat(e.dealer.phone):"",a=e.dealer&&e.dealer.phone&&e.dealer.phone.length?e.dealer.phone:"",l=this.props.OptimizelyStore.vdpTest1Variation,r=this.props.variation,s="variation1"===this.props.OptimizelyStore.vdpTest3Variation;return d.default.createElement("div",{className:this.props.containerClassName},d.default.createElement("span",{className:"".concat(r?"dealer-contact-title-78":"dealer-contact-title"," ").concat(("default"!==l||s)&&"vdp-test1-59-title")},"Check Availability"),d.default.createElement("span",{className:"ENHANCED"===e.recordType&&e.dealer.phone&&e.dealer.phone.length?"dealer-contact-subTitle row align-middle":"hide"},d.default.createElement("i",{className:"fa fa-mobile"}),d.default.createElement("span",{className:"show-for-xlarge"},t),d.default.createElement("span",{className:"hide-for-xlarge mobile-call-link"},d.default.createElement("a",{href:"tel:".concat(a),target:"_parent",onClick:this.handleCallClick},t))),d.default.createElement(p.default,{listing:this.props.SearchRequestStore.selectedVehicle}))}}]),t}(d.default.Component))||r)||r;t.default=f},"./client/components/VehicleDetails/DealerContact/DealerContactHocEntry.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./client/components/VehicleDetails/DealerContact/DealerContactForm.jsx")),s=(0,l(a("./client/components/Common/FormValidationHOC/FormValidationHOC.jsx")).default)(r.default);t.default=s},"./client/components/VehicleDetails/DealerContact/DealerContactSimilarListing.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),o=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=l(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),m=l(a("./client/api/BeaconHelperApi.js")),h=a("./client/api/TrackingHelperApi.js"),f=l(a("./client/utils/AppUtils.js")),v=l(a("./node_modules/js-md5/src/md5.js")),b=(0,p.inject)("AppStore","UserStore","AnalyticsStore","DealerContactStore")(r=(0,p.observer)(r=function(e){function t(e){var a;return(0,s.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).formSubmit=function(e){e.preventDefault();var t=a.props.DealerContactStore.formData,l=t.email?(0,v.default)(t.email):a.props.UserStore.hashedEmail,r={listingId:a.props.listing.id,id:a.props.listing.id,dealerId:a.props.dealerId,vin:a.props.listing.vin,phone:t.phone?t.phone.replace(/[^A-Za-z0-9]/g,""):"",leadType:"similar"},s=Object.assign({},t,r);switch((0,h.trackClick)("event55,event77","Email Lead from Thank You"),a.props.source){case"vdp":m.default.vdpTypLeadSubmit(s);break;case"icr":m.default.uclIcrTypLeadSubmit(s);break;default:m.default.vdpTypLeadSubmit(s)}a.props.DealerContactStore.sendLead(s),a.setState({sentMessage:!0}),a.props.AnalyticsStore.trackEmailLead(),a.props.AnalyticsStore.trackFollowCar();var n=a.props.listing,i=n.dealer.location?n.dealer.location.zip:0;f.default.pushToDataLayer({event:"uclEmailLeadTY",pageState:"Find Car Details Contact Seller Thank You",pageTier:"Find a Car",siteType:a.props.AppStore.siteType,emailHashed:l,vin:n.vin,transactionId:n.vin+l,price:n.listPrice,year:"".concat(n.year),make:n.make,model:n.model,dzip:i})},a.state={sentMessage:a.props.messageSent},a.formSubmit=a.formSubmit.bind((0,c.default)(a)),a}return(0,d.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=u.default.createElement("button",{onClick:this.formSubmit,className:"button primary-green similar-send-button"},"Send"),t=u.default.createElement("button",{disabled:!0,className:"button primary-green similar-send-button"},"Sent"),a=this.state.sentMessage?t:e,l=this.props.listing,r=l.images&&l.images.firstPhoto?l.images.firstPhoto.small:"https://static.carfax.com/uclassets/images/srp-noimage.png";return"na"===r?null:u.default.createElement("div",{key:this.props.index,className:"row similar-item align-middle"},u.default.createElement("div",{className:"column small-3"},u.default.createElement("img",{src:r,alt:""})),u.default.createElement("div",{className:"column"},u.default.createElement("div",{className:"row similar-item-text"},u.default.createElement("a",{href:"/vehicle/".concat(l.vin)},l.title)),u.default.createElement("div",{className:"row similar-item-text".concat(l.price&&l.price.current_price?" show":" hide")},l.price&&l.price.current_price?l.price.current_price.label:"NA"),u.default.createElement("div",{className:"row similar-item-text"},l.mileage?"".concat(l.mileage.label," miles"):"NA"),u.default.createElement("div",{className:"row similar-item-text"},"".concat(l.dealer.location.city,",").concat(l.dealer.location.state))),u.default.createElement("div",{className:"similar-listing-button"},a))}}]),t}(u.default.Component))||r)||r;t.default=b}}]);